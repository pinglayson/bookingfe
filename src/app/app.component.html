<div *ngIf="error" class="alert alert-danger">{{error}}</div>
<div *ngIf="success" class="alert alert-success">{{success}}</div>

<div id="booking">
    <h2>Bookings</h2>

    <div class="list-group">
      <div *ngFor="let item of bookings;let i = index;" class="list-group-item row">
        <div class="col-3" style="float:left">
          <div>{{bookings[i].first_name}} {{bookings[i].last_name}}</div>
        </div>
        <div class="col-3" style="float:left">
          <div>{{bookings[i].appointment}}</div>
        </div>
        <div class="col-3" style="float:left">
          <div>{{bookings[i].duration}}</div>
        </div>
        <div class="col-3" style="float:left">
          <div>{{bookings[i].remark}}</div>
        </div>
      </div>
    </div>
  </div>

<div id="bookingForm">
  <h2>Booking Form</h2>
  <form #f="ngForm" name="theForm" (submit)="addCar(f)">

    <div class="form-group">
      <label>First Name</label>
      <input type="text"
            class="form-control"
            name="first_name"
            [(ngModel)]="booking.fname"
            #bookingFname="ngModel"
            required>
      <span class="help-block danger" *ngIf="bookingFname.errors?.required && bookingFname.touched">
        The first name is required
      </span>
      <span class="help-block danger" *ngIf="bookingFname.errors?.pattern && bookingFname.touched">
        The first name can only contain the letters a-z or A-Z
      </span>
    </div>

    <div class="form-group">
      <label>Last Name</label>
      <input type="text"
            class="form-control"
            name="last_name"
            [(ngModel)]="booking.lname"
            #bookingLname="ngModel"
            required>
      <span class="help-block danger" *ngIf="bookingLname.errors?.required && bookingLname.touched">
        The first name is required
      </span>
      <span class="help-block danger" *ngIf="bookingLname.errors?.pattern && bookingLname.touched">
        The first name can only contain the letters a-z or A-Z
      </span>
    </div>

    <div class="form-group">
      <label>Appointment</label>
      <input matInput type="datetime-local"
            class="form-control"
            name="appointment"
            [(ngModel)]="booking.appointment"
            #bookingAppointment="ngModel"
            required>
      <span class="help-block danger" *ngIf="bookingAppointment.errors?.required && bookingAppointment.touched">
        The appointment is required
      </span>
    </div>

    <div class="form-group">
      <label>Duration</label>
      <input type="number"
            class="form-control"
            name="duration"
            [(ngModel)]="booking.duration"
            #bookingDuration="ngModel"
            required>
      <span class="help-block danger" *ngIf="bookingDuration.errors?.required && bookingDuration.touched">
        The duration is required
      </span>
    </div>

    <div class="form-group">
      <label>Remark</label>
      <textarea
            class="form-control"
            name="remark"
            [(ngModel)]="booking.remark"
            #bookingRemark="ngModel">
      </textarea>
    </div>

    <button
        class="btn btn-primary btn-sm"
        [disabled]="f.invalid">Add</button>
  </form>
</div>

